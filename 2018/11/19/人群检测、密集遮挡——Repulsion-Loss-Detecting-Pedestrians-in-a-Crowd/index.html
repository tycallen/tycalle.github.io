<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><script src="https://cdn.staticfile.org/pace/1.0.2/pace.min.js"></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="Ojd_HrL_PelaXvKK5IkbhLbjZ_sHt6IxRzP-XPaaTw4"><meta name="msvalidate.01" content="473DA33F97AC4CCE578BDDE1F4B458E5"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"6.4.1",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,fastclick:!1,lazyload:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="Repulsion Loss: Detecting Pedestrians in a CrowdXinlong WangMegvii本文提出了RepLoss，为loss添加了额外的项：与目标附近的gt非目标物体及周围的其它非同目标的预测box之间的排斥项。提升了密集场景下的行人检测性能。亦可用于返回的目标检测。"><meta name="keywords" content="Computer Vision,Deep Learning,Pedestrian Detection,RepLoss"><meta property="og:type" content="article"><meta property="og:title" content="人群检测、密集遮挡——Repulsion Loss: Detecting Pedestrians in a Crowd"><meta property="og:url" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/index.html"><meta property="og:site_name" content="慕湮"><meta property="og:description" content="Repulsion Loss: Detecting Pedestrians in a CrowdXinlong WangMegvii本文提出了RepLoss，为loss添加了额外的项：与目标附近的gt非目标物体及周围的其它非同目标的预测box之间的排斥项。提升了密集场景下的行人检测性能。亦可用于返回的目标检测。"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542106436141.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542336278442.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542336939628.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542339971313.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542363084926.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607159380.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607174788.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607479193.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607492648.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607519093.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607537451.png"><meta property="og:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542607577468.png"><meta property="og:updated_time" content="2019-04-16T09:25:48.846Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="人群检测、密集遮挡——Repulsion Loss: Detecting Pedestrians in a Crowd"><meta name="twitter:description" content="Repulsion Loss: Detecting Pedestrians in a CrowdXinlong WangMegvii本文提出了RepLoss，为loss添加了额外的项：与目标附近的gt非目标物体及周围的其它非同目标的预测box之间的排斥项。提升了密集场景下的行人检测性能。亦可用于返回的目标检测。"><meta name="twitter:image" content="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/1542106436141.png"><link rel="canonical" href="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/"><script type="text/javascript" id="page.configurations">CONFIG.page={sidebar:""}</script><title>人群检测、密集遮挡——Repulsion Loss: Detecting Pedestrians in a Crowd | 慕湮</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?ca5844321cfb80fdf6f12b4dcc326991";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><style>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}::selection{background:#262a30;color:#fff}body{position:relative;font-family:Lato,"PingFang SC","Microsoft YaHei",sans-serif;font-size:14px;line-height:2;color:#555;background:#fff}@media (max-width:767px){body{padding-right:0!important}}@media (min-width:768px) and (max-width:991px){body{padding-right:0!important}}@media (min-width:1200px){body{font-size:16px}}h1,h2,h3,h4,h5,h6{margin:0;padding:0;font-weight:700;line-height:1.5;font-family:'Roboto Slab',Lato,"PingFang SC","Microsoft YaHei",sans-serif}h1,h2,h3,h4,h5,h6{margin:20px 0 15px}h1{font-size:22px}@media (max-width:767px){h1{font-size:18px}}h2{font-size:20px}@media (max-width:767px){h2{font-size:16px}}h3{font-size:18px}@media (max-width:767px){h3{font-size:14px}}h4{font-size:16px}@media (max-width:767px){h4{font-size:12px}}h5{font-size:14px}@media (max-width:767px){h5{font-size:10px}}h6{font-size:12px}@media (max-width:767px){h6{font-size:8px}}p{margin:0 0 20px 0}a{color:#555;text-decoration:none;outline:0;border-bottom:1px solid #999;word-wrap:break-word}a:hover{color:#222;border-bottom-color:#222}blockquote{margin:0;padding:0}img{display:block;margin:auto;max-width:100%;height:auto}hr{margin:40px 0;height:3px;border:none;background-color:#ddd;background-image:repeating-linear-gradient(-45deg,#fff,#fff 4px,transparent 4px,transparent 8px)}blockquote{padding:0 15px;color:#666;border-left:4px solid #ddd}blockquote cite::before{content:"-";padding:0 5px}dt{font-weight:700}dd{margin:0;padding:0}kbd{border:1px solid #ccc;border-radius:.2em;box-shadow:.1em .1em .2em rgba(0,0,0,.1);background-color:#f9f9f9;font-family:inherit;background-image:-webkit-linear-gradient(top,#eee,#fff,#eee);padding:.1em .3em;white-space:nowrap}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.center-block{display:block;margin-left:auto;margin-right:auto}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.pullquote{width:45%}.pullquote.left{float:left;margin-left:5px;margin-right:10px}.pullquote.right{float:right;margin-left:10px;margin-right:5px}.affix.affix.affix{position:fixed}.translation{margin-top:-20px;font-size:14px;color:#999}.scrollbar-measure{width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px}.use-motion .motion-element{opacity:0}table{margin:20px 0;width:100%;border-collapse:collapse;border-spacing:0;border:1px solid #ddd;font-size:14px;word-wrap:break-all}table>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}table>tbody>tr:hover{background-color:#f5f5f5}caption,td,th{padding:8px;text-align:left;vertical-align:middle;font-weight:400}td,th{border-bottom:3px solid #ddd;border-right:1px solid #eee}th{padding-bottom:10px;font-weight:700}td{border-bottom-width:1px}body,html{height:100%}.container{position:relative;min-height:100%}.header-inner{margin:0 auto;padding:100px 0 70px;width:700px}@media (min-width:1200px){.container .header-inner{width:800px}}@media (min-width:1600px){.container .header-inner{width:900px}}.main{padding-bottom:150px}.main-inner{margin:0 auto;width:700px}@media (min-width:1200px){.container .main-inner{width:800px}}@media (min-width:1600px){.container .main-inner{width:900px}}.footer{position:absolute;left:0;bottom:0;width:100%;min-height:50px}.footer-inner{box-sizing:border-box;margin:20px auto;width:700px}@media (min-width:1200px){.container .footer-inner{width:800px}}@media (min-width:1600px){.container .footer-inner{width:900px}}.highlight,pre{overflow:auto;margin:20px 0;padding:0;font-size:14px;color:#4d4d4c;background:#f7f7f7;line-height:1.6}code,pre{font-family:consolas,Menlo,"PingFang SC","Microsoft YaHei",monospace}code{padding:2px 4px;word-wrap:break-word;color:#555;background:#eee;border-radius:3px;font-size:14px}pre{padding:10px}pre code{padding:0;color:#4d4d4c;background:0 0;text-shadow:none}.highlight{border-radius:1px}.highlight pre{border:none;margin:0;padding:10px 0}.highlight table{margin:0;width:auto;border:none}.highlight td{border:none;padding:0}.highlight figcaption{font-size:1em;color:#4d4d4c;line-height:1em;margin-bottom:1em;margin:0;padding:.5em;background:#eee;border-bottom:1px solid #e9e9e9}.highlight figcaption:after,.highlight figcaption:before{content:" ";display:table}.highlight figcaption:after{clear:both}.highlight figcaption a{float:right;color:#4d4d4c}.highlight figcaption a:hover{border-bottom-color:#4d4d4c}.highlight .gutter pre{padding-left:10px;padding-right:10px;color:#869194;text-align:right;background-color:#eff2f3}.highlight .code pre{width:100%;padding-left:10px;padding-right:10px;background-color:#f7f7f7}.highlight .line{height:20px}.gutter{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gist table{width:auto}.gist table td{border:none}pre .deletion{background:#fdd}pre .addition{background:#dfd}pre .meta{color:#8959a8}pre .comment{color:#8e908c}pre .attribute,pre .css .class,pre .css .id,pre .css .pseudo,pre .html .doctype,pre .regexp,pre .ruby .constant,pre .tag,pre .variable,pre .xml .doctype,pre .xml .pi,pre .xml .tag .title{color:#c82829}pre .built_in,pre .command,pre .constant,pre .literal,pre .number,pre .params,pre .preprocessor{color:#f5871f}pre .css .rules .attribute,pre .formula,pre .header,pre .inheritance,pre .number,pre .ruby .class .title,pre .ruby .symbol,pre .special,pre .string,pre .value,pre .xml .cdata{color:#718c00}pre .css .hexcolor,pre .title{color:#3e999f}pre .coffeescript .title,pre .function,pre .javascript .title,pre .perl .sub,pre .python .decorator,pre .python .title,pre .ruby .function .title,pre .ruby .title .keyword{color:#4271ae}pre .javascript .function,pre .keyword{color:#8959a8}.posts-expand .post-body img.full-image{border:none}.blockquote-center,.page-home .post-type-quote blockquote,.page-post-detail .post-type-quote blockquote{position:relative;margin:40px 0;padding:0;border-left:none;text-align:center}.blockquote-center::after,.blockquote-center::before,.page-home .post-type-quote blockquote::after,.page-home .post-type-quote blockquote::before,.page-post-detail .post-type-quote blockquote::after,.page-post-detail .post-type-quote blockquote::before{position:absolute;content:' ';display:block;width:100%;height:24px;opacity:.2;background-repeat:no-repeat;background-position:0 -6px;background-size:22px 22px}.blockquote-center::before,.page-home .post-type-quote blockquote::before,.page-post-detail .post-type-quote blockquote::before{top:-20px;background-image:url(../images/quote-l.svg);border-top:1px solid #ccc}.blockquote-center::after,.page-home .post-type-quote blockquote::after,.page-post-detail .post-type-quote blockquote::after{bottom:-20px;background-image:url(../images/quote-r.svg);border-bottom:1px solid #ccc;background-position:100% 8px}.blockquote-center div,.blockquote-center p,.page-home .post-type-quote blockquote div,.page-home .post-type-quote blockquote p,.page-post-detail .post-type-quote blockquote div,.page-post-detail .post-type-quote blockquote p{text-align:center}.post .post-body .group-picture img{box-sizing:border-box;padding:0 3px;border:none}.post .group-picture-row{overflow:hidden;margin-top:6px}.post .group-picture-row:first-child{margin-top:0}.post .group-picture-column{float:left}.page-post-detail .post-body .group-picture-column{float:none;margin-top:10px;width:auto!important}.page-post-detail .post-body .group-picture-column img{margin:0 auto}.page-archive .group-picture-container{overflow:hidden}.page-archive .group-picture-row{float:left}.page-archive .group-picture-row:first-child{margin-top:6px}.page-archive .group-picture-column{max-width:150px;max-height:150px}.post-body .note{position:relative;padding:15px;margin-bottom:20px;border:1px solid #eee;border-left-width:5px;border-radius:3px}.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6{margin-top:0;margin-bottom:0;border-bottom:initial;padding-top:0!important}.post-body .note blockquote:first-child,.post-body .note ol:first-child,.post-body .note p:first-child,.post-body .note pre:first-child,.post-body .note table:first-child,.post-body .note ul:first-child{margin-top:0}.post-body .note blockquote:last-child,.post-body .note ol:last-child,.post-body .note p:last-child,.post-body .note pre:last-child,.post-body .note table:last-child,.post-body .note ul:last-child{margin-bottom:0}.post-body .note.default{border-left-color:#777}.post-body .note.default h2,.post-body .note.default h3,.post-body .note.default h4,.post-body .note.default h5,.post-body .note.default h6{color:#777}.post-body .note.primary{border-left-color:#6f42c1}.post-body .note.primary h2,.post-body .note.primary h3,.post-body .note.primary h4,.post-body .note.primary h5,.post-body .note.primary h6{color:#6f42c1}.post-body .note.info{border-left-color:#428bca}.post-body .note.info h2,.post-body .note.info h3,.post-body .note.info h4,.post-body .note.info h5,.post-body .note.info h6{color:#428bca}.post-body .note.success{border-left-color:#5cb85c}.post-body .note.success h2,.post-body .note.success h3,.post-body .note.success h4,.post-body .note.success h5,.post-body .note.success h6{color:#5cb85c}.post-body .note.warning{border-left-color:#f0ad4e}.post-body .note.warning h2,.post-body .note.warning h3,.post-body .note.warning h4,.post-body .note.warning h5,.post-body .note.warning h6{color:#f0ad4e}.post-body .note.danger{border-left-color:#d9534f}.post-body .note.danger h2,.post-body .note.danger h3,.post-body .note.danger h4,.post-body .note.danger h5,.post-body .note.danger h6{color:#d9534f}.post-body .label{display:inline;padding:0 2px;white-space:nowrap}.post-body .label.default{background-color:#f0f0f0}.post-body .label.primary{background-color:#efe6f7}.post-body .label.info{background-color:#e5f2f8}.post-body .label.success{background-color:#e7f4e9}.post-body .label.warning{background-color:#fcf6e1}.post-body .label.danger{background-color:#fae8eb}.post-body .tabs{position:relative;display:block;margin-bottom:20px;padding-top:10px}.post-body .tabs ul.nav-tabs{margin:0;padding:0;display:flex;margin-bottom:-1px}@media (max-width:413px){.post-body .tabs ul.nav-tabs{display:block;margin-bottom:5px}}.post-body .tabs ul.nav-tabs li.tab{list-style-type:none!important;margin:0 .25em 0 0;border-top:3px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent}@media (max-width:413px){.post-body .tabs ul.nav-tabs li.tab{margin:initial;border-top:1px solid transparent;border-left:3px solid transparent;border-right:1px solid transparent;border-bottom:1px solid transparent}}.post-body .tabs ul.nav-tabs li.tab a{outline:0;border-bottom:initial;display:block;line-height:1.8em;padding:.25em .75em;transition-duration:.2s;transition-timing-function:ease-out;transition-delay:0s}.post-body .tabs ul.nav-tabs li.tab a i{width:1.285714285714286em}.post-body .tabs ul.nav-tabs li.tab.active{border-top:3px solid #fc6423;border-left:1px solid #ddd;border-right:1px solid #ddd;background-color:#fff}@media (max-width:413px){.post-body .tabs ul.nav-tabs li.tab.active{border-top:1px solid #ddd;border-left:3px solid #fc6423;border-right:1px solid #ddd;border-bottom:1px solid #ddd}}.post-body .tabs ul.nav-tabs li.tab.active a{cursor:default;color:#555}.post-body .tabs .tab-content{background-color:#fff}.post-body .tabs .tab-content .tab-pane{border:1px solid #ddd;padding:20px 20px 0 20px}.post-body .tabs .tab-content .tab-pane:not(.active){display:none!important}.post-body .tabs .tab-content .tab-pane.active{display:block!important}.btn{display:inline-block;padding:0 20px;font-size:14px;color:#fff;background:#222;border:2px solid #222;text-decoration:none;border-radius:0;transition-property:background-color;transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s;line-height:2}.btn:hover{border-color:#222;color:#222;background:#fff}.btn+.btn{margin:0 0 8px 8px}.btn .fa-fw{width:1.285714285714286em;text-align:left}.btn-bar{display:block;width:22px;height:2px;background:#555;border-radius:1px}.btn-bar+.btn-bar{margin-top:4px}.pagination{margin:120px 0 40px;text-align:center;border-top:1px solid #eee}.page-number-basic,.pagination .next,.pagination .page-number,.pagination .prev,.pagination .space{display:inline-block;position:relative;top:-1px;margin:0 10px;padding:0 11px}@media (max-width:767px){.page-number-basic,.pagination .next,.pagination .page-number,.pagination .prev,.pagination .space{margin:0 5px}}.pagination .next,.pagination .page-number,.pagination .prev{border-bottom:0;border-top:1px solid #eee;transition-property:border-color;transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s}.pagination .next:hover,.pagination .page-number:hover,.pagination .prev:hover{border-top-color:#222}.pagination .space{padding:0;margin:0}.pagination .prev{margin-left:0}.pagination .next{margin-right:0}.pagination .page-number.current{color:#fff;background:#ccc;border-top-color:#ccc}@media (max-width:767px){.pagination{border-top:none}.pagination .next,.pagination .page-number,.pagination .prev{margin-bottom:10px;border-top:0;border-bottom:1px solid #eee;padding:0 10px}.pagination .next:hover,.pagination .page-number:hover,.pagination .prev:hover{border-bottom-color:#222}}.comments{margin:60px 20px 0}.tag-cloud{text-align:center}.tag-cloud a{display:inline-block;margin:10px}.back-to-top{box-sizing:border-box;position:fixed;bottom:-100px;right:30px;z-index:1050;padding:0 6px;width:24px;background:#222;font-size:12px;opacity:1;color:#fff;cursor:pointer;text-align:center;-webkit-transform:translateZ(0);transition-property:bottom;transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s}@media (min-width:768px) and (max-width:991px){.back-to-top{display:none!important}}@media (max-width:767px){.back-to-top{display:none!important}}.back-to-top.back-to-top-on{bottom:19px}.header{background:0 0}.header-inner{position:relative}.headband{height:3px;background:#222}.site-meta{margin:0;text-align:center}@media (max-width:767px){.site-meta{text-align:center}}.brand{position:relative;display:inline-block;padding:0 40px;color:#fff;background:#222;border-bottom:none}.brand:hover{color:#fff}.logo{display:inline-block;margin-right:5px;line-height:36px;vertical-align:top}.site-title{display:inline-block;vertical-align:top;line-height:36px;font-size:20px;font-weight:400;font-family:Lato,"PingFang SC","Microsoft YaHei",sans-serif}.site-subtitle{margin-top:10px;font-size:13px;color:#999}.use-motion .brand{opacity:0}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:0;position:relative;top:-10px}.site-nav-toggle{display:none;position:absolute;top:10px;left:10px}@media (max-width:767px){.site-nav-toggle{display:block}}.site-nav-toggle button{margin-top:2px;padding:9px 10px;background:0 0;border:none}@media (max-width:767px){.site-nav{display:none;margin:0 -10px;padding:0 10px;clear:both;border-top:1px solid #ddd}}@media (min-width:768px) and (max-width:991px){.site-nav{display:block!important}}@media (min-width:992px){.site-nav{display:block!important}}.menu{margin-top:20px;padding-left:0;text-align:center}.menu .menu-item{display:inline-block;margin:0 10px;list-style:none}@media screen and (max-width:767px){.menu .menu-item{margin-top:10px}}.menu .menu-item a{display:block;font-size:13px;line-height:inherit;border-bottom:1px solid transparent;transition-property:border-color;transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s}.menu .menu-item a:hover{border-bottom-color:#222}.menu .menu-item .fa{margin-right:5px}.use-motion .menu-item{opacity:0}.post-body{font-family:Lato,"PingFang SC","Microsoft YaHei",sans-serif}@media (max-width:767px){.post-body{word-break:break-word}}.post-body .fancybox img{display:block!important;margin:0 auto;cursor:pointer;cursor:zoom-in;cursor:-webkit-zoom-in}.post-body .figure .caption,.post-body .image-caption{margin:-20px auto 15px;text-align:center;font-size:14px;color:#999;font-weight:700;line-height:1}.post-sticky-flag{display:inline-block;font-size:16px;-ms-transform:rotate(30deg);-webkit-transform:rotate(30deg);-moz-transform:rotate(30deg);-ms-transform:rotate(30deg);-o-transform:rotate(30deg);transform:rotate(30deg)}.use-motion .comments,.use-motion .pagination,.use-motion .post-block{opacity:0}.use-motion .post-header{opacity:0}.use-motion .post-body{opacity:0}.use-motion .collection-title{opacity:0}.posts-expand{padding-top:40px}@media (max-width:767px){.posts-expand{margin:0 20px}.post-body pre .gutter pre{padding-right:10px}.post-body .highlight{margin-left:0;margin-right:0;padding:0}.post-body .highlight .gutter pre{padding-right:10px}}@media (min-width:992px){.posts-expand .post-body{text-align:justify}}.posts-expand .post-body h2,.posts-expand .post-body h3,.posts-expand .post-body h4,.posts-expand .post-body h5,.posts-expand .post-body h6{padding-top:10px}.posts-expand .post-body h2 .header-anchor,.posts-expand .post-body h3 .header-anchor,.posts-expand .post-body h4 .header-anchor,.posts-expand .post-body h5 .header-anchor,.posts-expand .post-body h6 .header-anchor{float:right;margin-left:10px;color:#ccc;border-bottom-style:none;visibility:hidden}.posts-expand .post-body h2 .header-anchor:hover,.posts-expand .post-body h3 .header-anchor:hover,.posts-expand .post-body h4 .header-anchor:hover,.posts-expand .post-body h5 .header-anchor:hover,.posts-expand .post-body h6 .header-anchor:hover{color:inherit}.posts-expand .post-body h2:hover .header-anchor,.posts-expand .post-body h3:hover .header-anchor,.posts-expand .post-body h4:hover .header-anchor,.posts-expand .post-body h5:hover .header-anchor,.posts-expand .post-body h6:hover .header-anchor{visibility:visible}.posts-expand .post-body ul li{list-style:circle}.posts-expand .post-body img{box-sizing:border-box;margin:auto;padding:3px;border:1px solid #ddd}.posts-expand .post-body .fancybox img{margin:0 auto 25px}.posts-expand .post-body img{margin:0 auto 25px}@media (max-width:767px){.posts-collapse{margin:0 20px}.posts-collapse .post-meta,.posts-collapse .post-title{display:block;width:auto;text-align:left}}.posts-collapse{position:relative;z-index:1010;margin-left:55px}.posts-collapse::after{content:" ";position:absolute;top:20px;left:0;margin-left:-2px;width:4px;height:100%;background:#f5f5f5;z-index:-1}@media (max-width:767px){.posts-collapse{margin:0 20px}}.posts-collapse .collection-title{position:relative;margin:60px 0}.posts-collapse .collection-title h1,.posts-collapse .collection-title h2{margin-left:20px}.posts-collapse .collection-title small{color:#bbb;margin-left:5px}.posts-collapse .collection-title::before{content:" ";position:absolute;left:0;top:50%;margin-left:-4px;margin-top:-4px;width:8px;height:8px;background:#bbb;border-radius:50%}.posts-collapse .post{margin:30px 0}.posts-collapse .post-header{position:relative;transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s;transition-property:border;border-bottom:1px dashed #ccc}.posts-collapse .post-header::before{content:" ";position:absolute;left:0;top:12px;width:6px;height:6px;margin-left:-4px;background:#bbb;border-radius:50%;border:1px solid #fff;transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s;transition-property:background}.posts-collapse .post-header:hover{border-bottom-color:#666}.posts-collapse .post-header:hover::before{background:#222}.posts-collapse .post-meta{position:absolute;font-size:12px;left:20px;top:5px}.posts-collapse .post-comments-count{display:none}.posts-collapse .post-title{margin-left:60px;font-size:16px;font-weight:400;line-height:inherit}.posts-collapse .post-title::after{margin-left:3px;opacity:.6}.posts-collapse .post-title a{color:#666;border-bottom:none}.page-home .post-type-quote .post-header,.page-home .post-type-quote .post-tags,.page-post-detail .post-type-quote .post-header,.page-post-detail .post-type-quote .post-tags{display:none}.posts-expand .post-title{text-align:center;word-break:break-word;font-weight:400}.posts-expand .post-title-link{display:inline-block;position:relative;color:#555;border-bottom:none;line-height:1.2;vertical-align:top}.posts-expand .post-title-link::before{content:"";position:absolute;width:100%;height:2px;bottom:0;left:0;background-color:#000;visibility:hidden;-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);-o-transform:scaleX(0);transform:scaleX(0);transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s}.posts-expand .post-title-link:hover::before{visibility:visible;-webkit-transform:scaleX(1);-moz-transform:scaleX(1);-ms-transform:scaleX(1);-o-transform:scaleX(1);transform:scaleX(1)}.posts-expand .post-title-link .fa{font-size:16px}.posts-expand .post-meta{margin:3px 0 60px 0;color:#999;font-family:Lato,"PingFang SC","Microsoft YaHei",sans-serif;font-size:12px;text-align:center}.posts-expand .post-meta .post-category-list{display:inline-block;margin:0;padding:3px}.posts-expand .post-meta .post-category-list-link{color:#999}.posts-expand .post-meta .post-description{font-size:14px;margin-top:2px}.posts-expand .post-meta time{border-bottom:1px dashed #999;cursor:help}.post-meta-divider{margin:0 .5em}.post-meta-item-icon{margin-right:3px}@media (min-width:768px) and (max-width:991px){.post-meta-item-icon{display:inline-block}}@media (max-width:767px){.post-meta-item-icon{display:inline-block}}@media (min-width:768px) and (max-width:991px){.post-meta-item-text{display:none}}@media (max-width:767px){.post-meta-item-text{display:none}}.post-button{margin-top:40px}.posts-expand .post-tags{margin-top:40px;text-align:center}.posts-expand .post-tags a{display:inline-block;margin-right:10px;font-size:13px}.post-nav{display:table;margin-top:15px;width:100%;border-top:1px solid #eee}.post-nav-divider{display:table-cell;width:10%}.post-nav-item{display:table-cell;padding:10px 0 0 0;width:45%;vertical-align:top}.post-nav-item a{position:relative;display:block;line-height:25px;font-size:14px;color:#555;border-bottom:none}.post-nav-item a:hover{color:#222;border-bottom:none}.post-nav-item a:active{top:2px}.post-nav-item .fa{position:absolute;top:8px;left:0;font-size:12px}.post-nav-next a{padding-left:15px}.post-nav-prev{text-align:right}.post-nav-prev a{padding-right:15px}.post-nav-prev .fa{right:0;left:auto}.posts-expand .post-eof{display:block;margin:80px auto 60px;width:8%;height:1px;background:#ccc;text-align:center}.post:last-child .post-eof.post-eof.post-eof{display:none}.post-gallery{display:table;table-layout:fixed;width:100%;border-collapse:separate}.post-gallery-row{display:table-row}.post-gallery .post-gallery-img{display:table-cell;text-align:center;vertical-align:middle;border:none}.post-gallery .post-gallery-img img{max-width:100%;max-height:100%;border:none}.fancybox-close,.fancybox-close:hover{border:none}.post-copyright{margin:2em 0 0;padding:.5em 1em;border-left:3px solid #ff1700;background-color:#f9f9f9;list-style:none}.rtl.post-body a,.rtl.post-body h1,.rtl.post-body h2,.rtl.post-body h3,.rtl.post-body h4,.rtl.post-body h5,.rtl.post-body h6,.rtl.post-body li,.rtl.post-body ol,.rtl.post-body p,.rtl.post-body ul{direction:rtl;font-family:UKIJ Ekran}.rtl.post-title{font-family:UKIJ Ekran}.sidebar{position:fixed;right:0;top:0;bottom:0;width:0;z-index:1040;box-shadow:inset 0 2px 6px #000;background:#222;-webkit-transform:translateZ(0)}.sidebar .exturl,.sidebar a{color:#999;border-bottom-color:#555}.sidebar .exturl:hover,.sidebar a:hover{color:#eee}@media (min-width:768px) and (max-width:991px){.sidebar{display:none!important}}@media (max-width:767px){.sidebar{display:none!important}}.sidebar-inner{position:relative;padding:20px 10px;color:#999;text-align:center}.site-overview-wrap{overflow:hidden}.site-overview{overflow-y:auto;overflow-x:hidden}.sidebar-toggle{position:fixed;right:30px;bottom:45px;width:14px;height:14px;padding:5px;background:#222;line-height:0;z-index:1050;cursor:pointer;-webkit-transform:translateZ(0)}@media (min-width:768px) and (max-width:991px){.sidebar-toggle{display:none!important}}@media (max-width:767px){.sidebar-toggle{display:none!important}}.sidebar-toggle-line{position:relative;display:inline-block;vertical-align:top;height:2px;width:100%;background:#fff;margin-top:3px}.sidebar-toggle-line:first-child{margin-top:0}.site-author-image{display:block;margin:0 auto;padding:2px;max-width:96px;height:auto;border:2px solid #333;opacity:1}.site-author-name{margin:5px 0 0;text-align:center;color:#f5f5f5;font-weight:400}.site-description{margin-top:5px;text-align:center;font-size:14px;color:#999}.site-state{overflow:hidden;line-height:1.4;white-space:nowrap;text-align:center}.site-state-item{display:inline-block;padding:0 15px;border-left:1px solid #333}.site-state-item:first-child{border-left:none}.site-state-item a{border-bottom:none}.site-state-item-count{display:block;text-align:center;color:inherit;font-weight:600;font-size:18px}.site-state-item-name{font-size:13px;color:inherit}.feed-link{margin-top:20px}.feed-link a{display:inline-block;padding:0 15px;color:#fc6423;border:1px solid #fc6423;border-radius:4px}.feed-link a i{color:#fc6423;font-size:14px}.feed-link a:hover{color:#fff;background:#fc6423}.feed-link a:hover i{color:#fff}.links-of-author{margin-top:20px}.links-of-author .exturl,.links-of-author a{display:inline-block;vertical-align:middle;margin-right:10px;margin-bottom:10px;border-bottom-color:#555;font-size:13px}.links-of-author .exturl:before,.links-of-author a:before{display:inline-block;vertical-align:middle;margin-right:3px;content:" ";width:4px;height:4px;border-radius:50%;background:#ff3d82}.links-of-blogroll{font-size:13px}.links-of-blogroll-title{margin-top:20px;font-size:14px;font-weight:600}.links-of-blogroll-list{margin:0;padding:0;list-style:none}.links-of-blogroll-item{padding:2px 10px}.links-of-blogroll-item a{max-width:280px;box-sizing:border-box;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sidebar-nav{margin:0 0 20px;padding-left:0}.sidebar-nav li{display:inline-block;cursor:pointer;border-bottom:1px solid transparent;font-size:14px;color:#555}.sidebar-nav li:hover{color:#f5f5f5}.page-post-detail .sidebar-nav-toc{padding:0 5px}.page-post-detail .sidebar-nav-overview{margin-left:10px}.sidebar-nav .sidebar-nav-active{color:#87daff;border-bottom-color:#87daff}.sidebar-nav .sidebar-nav-active:hover{color:#87daff}.sidebar-panel{display:none}.sidebar-panel-active{display:block}.post-toc-empty{font-size:14px;color:#666}.post-toc-wrap{overflow:hidden}.post-toc{overflow:auto}.post-toc ol{margin:0;padding:0 2px 5px 10px;text-align:left;list-style:none;font-size:14px}.post-toc ol>ol{padding-left:0}.post-toc ol a{transition-duration:.2s;transition-timing-function:ease-in-out;transition-delay:0s;transition-property:all;color:#999;border-bottom-color:#555}.post-toc ol a:hover{color:#ccc;border-bottom-color:#ccc}.post-toc .nav-item{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.8}.post-toc .nav .nav-child{display:none}.post-toc .nav .active>.nav-child{display:block}.post-toc .nav .active-current>.nav-child{display:block}.post-toc .nav .active-current>.nav-child>.nav-item{display:block}.post-toc .nav .active>a{color:#87daff;border-bottom-color:#87daff}.post-toc .nav .active-current>a{color:#87daff}.post-toc .nav .active-current>a:hover{color:#87daff}.footer{font-size:14px;color:#999}.footer img{border:none}.footer-inner{text-align:center}.with-love{display:inline-block;margin:0 5px;color:grey}.powered-by,.theme-info{display:inline-block}.cc-license{margin-top:10px;text-align:center}.cc-license .cc-opacity{opacity:.7;border-bottom:none}.cc-license .cc-opacity:hover{opacity:.9}.cc-license img{display:inline-block}@-moz-keyframes iconAnimate{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%,30%{-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}20%,40%,60%,80%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}50%,70%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}}@-webkit-keyframes iconAnimate{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%,30%{-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}20%,40%,60%,80%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}50%,70%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}}@-o-keyframes iconAnimate{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%,30%{-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}20%,40%,60%,80%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}50%,70%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}}@keyframes iconAnimate{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}10%,30%{-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}20%,40%,60%,80%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}50%,70%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}}#gitment-display-button{display:inline-block;padding:0 15px;color:#0a9caf;cursor:pointer;font-size:14px;border:1px solid #0a9caf;border-radius:4px}#gitment-display-button:hover{color:#fff;background:#0a9caf}.fa{font-family:FontAwesome!important}.local-search-pop-overlay{position:fixed;width:100%;height:100%;top:0;left:0;z-index:2080;background-color:rgba(0,0,0,.3)}.local-search-popup{display:none;position:fixed;top:10%;left:50%;margin-left:-350px;width:700px;height:80%;padding:0;background:#fff;color:#333;z-index:9999;border-radius:5px}@media (max-width:767px){.local-search-popup{padding:0;top:0;left:0;margin:0;width:100%;height:100%;border-radius:0}}.local-search-popup ul.search-result-list{padding:0;margin:0 5px}.local-search-popup p.search-result{border-bottom:1px dashed #ccc;padding:5px 0}.local-search-popup a.search-result-title{font-weight:700;font-size:16px}.local-search-popup .search-keyword{border-bottom:1px dashed red;font-weight:700;color:red}.local-search-popup .local-search-header{padding:5px;height:36px;background:#f5f5f5;border-top-left-radius:5px;border-top-right-radius:5px}.local-search-popup #local-search-result{overflow:auto;position:relative;padding:5px 25px;height:calc(100% - 55px)}.local-search-popup .local-search-input-wrapper{display:inline-block;width:calc(100% - 90px);height:36px;line-height:36px;padding:0 5px}.local-search-popup .local-search-input-wrapper input{padding:8px 0;height:20px;display:block;width:100%;outline:0;border:none;background:0 0;vertical-align:middle}.local-search-popup .popup-btn-close,.local-search-popup .search-icon{display:inline-block;font-size:18px;color:#999;height:36px;width:18px;padding-left:10px;padding-right:10px}.local-search-popup .search-icon{float:left}.local-search-popup .popup-btn-close{border-left:1px solid #eee;float:right;cursor:pointer}.local-search-popup #no-result{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#ccc}.page-pv,.site-pv,.site-uv{display:inline-block}.page-pv .busuanzi-value,.site-pv .busuanzi-value,.site-uv .busuanzi-value{margin:0 5px}.popular-posts-header{margin-top:60px;margin-bottom:10px;font-size:24px;border-bottom:1px solid #eee;display:block}ul.popular-posts{padding:0}ul.popular-posts .popular-posts-item{margin-left:2em}ul.popular-posts .popular-posts-item .popular-posts-title{font-weight:400;font-size:14px;margin:0;line-height:2.4}.page-archive .archive-page-counter{position:relative;top:3px;left:20px}@media (max-width:767px){.page-archive .archive-page-counter{top:5px}}.page-archive .posts-collapse .archive-move-on{position:absolute;top:11px;left:0;margin-left:-6px;width:10px;height:10px;opacity:.5;background:#555;border:1px solid #fff;border-radius:50%}.category-all-page .category-all-title{text-align:center}.category-all-page .category-all{margin-top:20px}.category-all-page .category-list{margin:0;padding:0;list-style:none}.category-all-page .category-list-item{margin:5px 10px}.category-all-page .category-list-count{color:#bbb}.category-all-page .category-list-count:before{display:inline;content:" ("}.category-all-page .category-list-count:after{display:inline;content:") "}.category-all-page .category-list-child{padding-left:10px}#schedule ul#event-list{padding-left:30px}#schedule ul#event-list hr{margin:20px 0 45px 0!important;background:#222}#schedule ul#event-list hr:after{display:inline-block;content:'NOW';background:#222;color:#fff;font-weight:700;text-align:right;padding:0 5px}#schedule ul#event-list li.event{margin:20px 0;background:#f9f9f9;padding-left:10px;min-height:40px}#schedule ul#event-list li.event h2.event-summary{margin:0;padding-bottom:3px}#schedule ul#event-list li.event h2.event-summary:before{display:inline-block;font-family:FontAwesome;font-size:8px;content:'\f111';vertical-align:middle;margin-right:25px;color:#bbb}#schedule ul#event-list li.event span.event-relative-time{display:inline-block;font-size:12px;font-weight:400;padding-left:12px;color:#bbb}#schedule ul#event-list li.event span.event-details{display:block;color:#bbb;margin-left:56px;padding-top:3px;padding-bottom:6px;text-indent:-24px;line-height:18px}#schedule ul#event-list li.event span.event-details:before{text-indent:0;display:inline-block;width:14px;font-family:FontAwesome;text-align:center;margin-right:9px;color:#bbb}#schedule ul#event-list li.event span.event-details.event-location:before{content:'\f041'}#schedule ul#event-list li.event span.event-details.event-duration:before{content:'\f017'}#schedule ul#event-list li.event-past{background:#fcfcfc}#schedule ul#event-list li.event-past>*{opacity:.6}#schedule ul#event-list li.event-past h2.event-summary{color:#bbb}#schedule ul#event-list li.event-past h2.event-summary:before{color:#dfdfdf}#schedule ul#event-list li.event-now{background:#222;color:#fff;padding:15px 0 15px 10px}#schedule ul#event-list li.event-now h2.event-summary:before{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2);color:#fff;animation:dot-flash 1s alternate infinite ease-in-out}#schedule ul#event-list li.event-now *{color:#fff!important}@-moz-keyframes dot-flash{from{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}to{opacity:0;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes dot-flash{from{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}to{opacity:0;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-o-keyframes dot-flash{from{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}to{opacity:0;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@keyframes dot-flash{from{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}to{opacity:0;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}.page-post-detail .sidebar-toggle-line{background:#87daff}.page-post-detail .comments{overflow:hidden}ul.breadcrumb{list-style:none;margin:1em 0;padding:0 2em;text-align:center;font-size:12px}ul.breadcrumb li{display:inline}ul.breadcrumb li+li:before{padding:.5em;font-weight:400;content:"/\00a0"}ul.breadcrumb li+li:last-child{font-weight:700}@media (max-width:767px){.container .main-inner,.footer-inner,.header-inner{width:auto}}embed{display:block;margin:0 auto 25px auto}.custom-logo .site-meta-headline{text-align:center}.custom-logo .brand{background:0 0}.custom-logo .site-title{margin:10px auto 0;font-size:24px;color:#222}.custom-logo .site-title a{border:none}.custom-logo-image{margin:0 auto;padding:5px;max-width:150px;background:#fff}@media (max-width:767px){.site-nav{position:absolute;left:0;top:52px;margin:0;width:100%;padding:0;background:#fff;border-bottom:1px solid #ddd;z-index:1030}}@media (max-width:767px){.menu{text-align:left}}@media (max-width:767px){.menu .menu-item{display:block;margin:0 10px;vertical-align:top}}.menu .menu-item .badge{display:inline-block;padding:1px 4px;margin-left:5px;font-weight:700;line-height:1;text-align:center;white-space:nowrap;background-color:#eee}@media (max-width:767px){.menu .menu-item .badge{float:right;margin:.35em 0 0 0}}@media (max-width:767px){.menu .menu-item br{display:none}}@media (max-width:767px){.menu .menu-item a{padding:5px 10px;border-bottom-color:#fff!important}}.menu .menu-item .fa{margin-right:0}.menu-item-active a{border-bottom-color:#222!important;color:#222}@media (max-width:767px){.menu-item-active a{border-bottom-color:#fff!important}}.site-search form{display:none}.links-of-blogroll-inline .links-of-blogroll-item{display:inline-block}</style><noscript><style type="text/css">.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.logo-line-after i{right:initial}</style></noscript><script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('https://cdn.staticfile.org/pace/1.0.2/themes/blue/pace-theme-big-counter.min.css');loadCss('//cdn.staticfile.org/fancybox/2.1.5/jquery.fancybox.min.js');loadCss('//cdn.staticfile.org/font-awesome/4.6.2/css/font-awesome.min.css');loadCss('https://imsun.github.io/gitment/style/default.css');</script><noscript><link rel="stylesheet" href="https://cdn.staticfile.org/pace/1.0.2/themes/blue/pace-theme-big-counter.min.css"><link rel="stylesheet" href="//cdn.staticfile.org/fancybox/2.1.5/jquery.fancybox.min.js"><link rel="stylesheet" href="//cdn.staticfile.org/font-awesome/4.6.2/css/font-awesome.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">慕湮</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">白日放歌须纵酒</h1></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="慕湮"><meta itemprop="description" content=""><meta itemprop="image" content="https://avatars0.githubusercontent.com/u/3022000?s=460&amp;v=4"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="慕湮"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">人群检测、密集遮挡——Repulsion Loss: Detecting Pedestrians in a Crowd</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-11-19 14:18:55" itemprop="dateCreated datePublished" datetime="2018-11-19T14:18:55+08:00">2018-11-19</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-04-16 17:25:48" itemprop="dateModified" datetime="2019-04-16T17:25:48+08:00">2019-04-16</time> </span><span id="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/" class="leancloud_visitors" data-flag-title="人群检测、密集遮挡——Repulsion Loss: Detecting Pedestrians in a Crowd"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span title="本文字数">12k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 ≈</span> <span title="阅读时长">21 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><a href="https://arxiv.org/abs/1711.07752" rel="external nofollow noopener noreferrer" target="_blank">Repulsion Loss: Detecting Pedestrians in a Crowd</a><br>Xinlong Wang<br>Megvii</p></blockquote><p>本文提出了RepLoss，为loss添加了额外的项：与目标附近的gt非目标物体及周围的其它非同目标的预测box之间的排斥项。提升了密集场景下的行人检测性能。亦可用于返回的目标检测。</p><a id="more"></a><hr><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>目标检测领域中，最重要的挑战之一就是遮挡。遮挡有两类：不同类和同类遮挡。后者也可称为crowd occlusion。</p><p>行人检测中，密集人群是最主要的遮挡形式。这跟应用场景有关：视频监控或自动驾驶中，行人通常聚集在一起并互相遮挡。如CityPerson数据集，验证集标注了3157个行人，其中与另一个行人重叠IoU大于0.1的占到了48.8%，与另一个行人重叠IoU大于0.3的占到了26.4%。这一问题严重损害了行人检测的性能。</p><p>人群的主要问题是它极大地增加了为行人定位的难度。当一个行人T被另一个行人B遮挡时，检测器极易混淆——因为两个行人有类似的外观特征。结果就是本该框住T的限位框很可能偏移到B。而且由于所有初步检测结果会进一步使用NMS处理，偏移了的T的限位框可能会被B的限位框给抑制，让T成为漏检。密集人群让检测器对NMS阈值非常敏感：过高的阈值会导致更多的false positive，反之则会有更多的漏检。</p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542106436141.png" alt="图1"></p><p>前沿的两步目标检测框架使用限位框回归来进行物体定位，即训练一个回归器，缩小候选和gt框之间的距离。但现有方法只要求候选与其指定的目标接近，没有考虑它周围的物体。如图1中，在标准限位框回归loss中，它对偏移到周围物体上的限位框并没有额外惩罚。这让我们思考：<em>如果我们想检出人群中的一个人，该怎样利用他周围物体的位置呢？</em></p><p>受磁铁的特性启示，本论文提出了一个新的定位技术，称为<strong>Repulsion Loss(RepLoss)</strong>。使用RepLoss，每个候选不仅需要靠近赋予的目标T，还需离其它GT目标远。例如图1中的偏移向B的红色限位框会得到额外的惩罚，因为它与周围的一个非目标的对象重叠了。</p><h2 id="2-Related-Work"><a href="#2-Related-Work" class="headerlink" title="2. Related Work"></a>2. Related Work</h2><p><strong>Object Localization.</strong> 目标检测中的目标定位通常构造为回归问题，将初始候选重定位到赋予的目标。R-CNN使用欧几里得距离为候选坐标训练线性回归模型。Fast R-CNN使用$Smooth_{L1}$ Loss替换了欧氏距离。[24]提出了RPN，将会进行两次限位框回归。Densebox提出了一个无锚点的全卷积检测框架。[29]提出了IoU Loss，最大化gt框和预测框的IoU。</p><p><strong>Pedestrian Detection.</strong> 传统行人检测，如ACF，LDCF，Checkboard，在Integral Channel Feature（IDF）上以滑动窗口的方式，使用各种滤波器来定位目标。[28，30]中使用了来自深度网络的特征，送入boosted decision forest。[21]提出了以多任务训练的网络，进一步提升了检测性能。[23, 27, 34]中使用了基于部位的模型，来处理被遮挡的行人。[13]致力于提升NMS的健壮性，但最终依赖于一个用于后处理的额外网络。</p><h2 id="3-What-is-the-Impact-of-Crowd-Occlusion"><a href="#3-What-is-the-Impact-of-Crowd-Occlusion" class="headerlink" title="3. What is the Impact of Crowd Occlusion?"></a>3. What is the Impact of Crowd Occlusion?</h2><h3 id="3-1-Preliminaries"><a href="#3-1-Preliminaries" class="headerlink" title="3.1 Preliminaries"></a>3.1 Preliminaries</h3><p>CityPerson是一个基于语义分割数据集CityScape的行人检测数据集，拥有在德国数个城市拍摄的5000张图片。共约35000个行人，13000个忽略区域，标注了所有行人及其可见部分。采用了FPPI False Positive per Image的范围在$[10^{-2}, 10^0]$的log miss率的$MR^{-2}$指标（越低越好）。</p><p>我们使用了Faster R-CNN作为baseline检测器。我们将其中的骨干网从VGG-16替换为更快的ResNet-50网络。需要注意的是ResNet很少用于行人检测，因为它的下采样率过大，让网络很难检出并定位小的行人。为此我们使用了dilated卷积，使最终特征图为原图的1/8。</p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542336278442.png" alt="图2"></p><h3 id="3-2-Analysis-on-Failure-Cases"><a href="#3-2-Analysis-on-Failure-Cases" class="headerlink" title="3.2 Analysis on Failure Cases"></a>3.2 Analysis on Failure Cases</h3><p><strong>Miss Detections.</strong> 我们先分析baseline检测结果中因人群遮挡导致的漏检。因为CityPerson提供了每个行人的可见部分的标注，我们可以计算出其遮挡率：$occ \triangleq 1 - \frac {area(BBox_{visible})} {area(BBox)} $。当$occ \ge 0.1$时，我们定义为遮挡，当$occ \ge 0.1$且与任意其它行人的$IoU \ge 0.1$时，我们定义为人群遮挡。从验证集中的1579个行人标注，可以提取出两个子集：有801个遮挡的reasonable-occ和有479个人群的reasonable-crowd。后者也是前者的子集。</p><p>图2是各集下的$MR^{-2}$。</p><p>图3a中，红线说明了在crowd集中，不同的检测得分阈值下gt的miss数。现实应用中只会考虑信心分高的限位框，而这样的漏检率说明真实应用还远未成熟。</p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542336939628.png" alt="图3"></p><p><strong>False Positive.</strong> 接下来分析有多少由人群遮挡导致的fp。我们将所有fp分为3类：背景，定位和人群错误。背景是预测框与任意gt框IoU都小于0.1的。定位错是与一个gt行人IoU大于0.1，人群错是与只是两个gt行人IoU大于0.1。</p><p>图3b中的红线说明fp中有20%由人群导致。图4中，我们观察到人群错通常是一个预测框或多或少地偏移到附近的无目标的gt对象，或框住了多个重叠的gt物体的并集。不仅如此，人群错通常有相对更高的信心分，导致top-rank中的fp。</p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542339971313.png" alt="图4"></p><h2 id="4-Repulsion-Loss"><a href="#4-Repulsion-Loss" class="headerlink" title="4. Repulsion Loss"></a>4. Repulsion Loss</h2><p>RepLoss由3部分组成：</p><script type="math/tex;mode=display">L = L_{Attr} + \alpha * L_{RepGT} + \beta * L_{RepBox}, \tag 1</script><p>$L_{Attr} $是吸引attraction项，让预测框靠近分配的目标。$L_{RepGT}$和$L_{RepBox}$是排斥repulsion项，让预测框远离周围的gt物体和其它赋予了不同目标的预测出的框。</p><p>出于简便，我们仅考虑双类检测，假定所有gt物体都是同一类。设$P = (l_P, t_P, w_P, h_P)$，$G = (l_G,t_G,w_G,h_G)$分别为候选框和gt框。$P_+ = \{ P\}$是所有正候选（与至少一个gt框的IoU高，如大于0.5）的集合，$\mathcal G = \{G\}$是一张图中所有gt框的集合。</p><p><strong>Attraction Term.</strong> 这一项loss在现有限位框回归计算中广泛应用。为便于比较，我们采用了$Smooth_{L1}$距离。其平滑参数设为了2。对一个候选$P \in \mathcal P_+$，我们将与它有最大IoU的gt框分配给它：$G_{Attr}^P = \arg \max _{G \in \mathcal G} IoU(G,P)$。$B^P$是从候选P回归得到的预测框。则Attraction Loss可以计算如下：</p><script type="math/tex;mode=display">L_{Attr} = \frac {\sum _{P \in \mathcal P_+} Smooth _{L1} (B^P, G_{Attr}^P)} {|\mathcal P_+|} . \tag 2</script><p><strong>Repulsion Term(RepGT).</strong> 这个Loss设计用于使候选远离其周围的非目标gt物体。对一个候选$P \in \mathcal P_+$，其排斥gt对象定义为除其目标之外IoU最大的gt物体：</p><script type="math/tex;mode=display">G_{Rep}^P = \arg \max_{G \in \mathcal G \ \{G_{Attr}^P\}} IoU (G, P). \tag 3</script><p>受[29]的IoU Loss启发，RepGT通过惩罚$B^P$和$G_{Rep}^P$间的重叠来计算。这个重叠定义为Intersection over Ground-truth (IoG)：$IoG(B,G) \triangleq \frac {area(B \cap G)} {area(G)}$，RepGT Loss定义如下：</p><script type="math/tex;mode=display">L_{RepGP} = \frac {\sum _{P \in \mathcal P_+} Smooth_{ln}(IoG(B^P,G_{Rep}^P))} {|\mathcal P_+|}, \tag 4</script><p>其中：</p><script type="math/tex;mode=display">Smooth_{ln} =
\begin{cases} 
- \ln (1-x),  & x \ { \le \sigma} \\
\frac {x - \sigma} {1-\sigma} - \ln (1-\sigma) &  x\  {\gt \sigma} 
\end{cases} \tag 5</script><p>是一个平滑的ln函数，在(0,1)上连续可微，$\sigma \in [0,1)$是平滑参数，调节loss对异常值的敏感度。图5显示出来不同$\sigma$下的曲线。从公式4、5可以看出，当一个候选与一个非目标的gt物体重叠越多，RepGT会给与更大的惩罚。</p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542363084926.png" alt="图5"></p><p><strong>Repulsion Term （RepBox）.</strong> 在大部分检测框架中，NMS是一个必要的后处理步骤，合并应该框住同一个物体的初步预测框。但检测结果受NMS影响很大，尤其是人群的情况。我们提出了RepBox Loss来使检测器对NMS不那么敏感：让有不同目标的候选互相排斥。我们将候选集$\mathcal P_+$根据他们各自的目标分为$|\mathcal G|$个互斥的子集：$\mathcal P_+ = \mathcal P_1 \cap \mathcal P_2 \cap … \cap \mathcal P_{|\mathcal G|}$，则对于从两个不同子集中随机采样的两个候选，$P_i \in \mathcal P_i$和$P_j \in \mathcal P_j$，其中$i,j = 1,2,…,|\mathcal G|$，且$i \neq j$，我们期望预测出的框$B^{P_i}$和$B^{P_j}$的重叠越小越好。则RepBox Loss计算如下：</p><script type="math/tex;mode=display">L_{RepBox} = \frac {\sum _{i \neq j} Smooth_{ln} (IoU(B^{P_i}, B^{P_j}))} {\sum _{i \neq j} \mathbb 1 [IoU (B^{P_i}, B^{P_j}) \gt 0] + \epsilon}, \tag 6</script><p>其中$\mathbb 1$是identity函数，$\epsilon$是一个小常量，防止除以0。从公式6我们可以看出，要最小化RepBox Loss，有不同目标的预测框IoU必须小。这说明RepBox能降低属于不同目标的预测框被NMS合并的可能。</p><h3 id="4-1-Discussion"><a href="#4-1-Discussion" class="headerlink" title="4.1 Discussion"></a>4.1 Discussion</h3><p><strong>Distance Metric.</strong> 值得讨论的是在惩罚项中，我们选择了IoG或IoU，而不是$Smooth_{L1}$作为距离度量。原因是前两个的值限制在[0,1]，而$Smooth_{L1}$是无界的。假如我们在RepGT中使用$Smooth_{L1}$，它会要求预测框与其排斥的gt物体越远越好。而IoG评价方式则只需它们之间重叠最小，更符合我们的动机。</p><p>另外，RepGT Loss采用IoG而不是IoU的原因在于，在基于IoU的loss中，回归器也许会仅仅只通过简单地扩大限位框尺寸，增大分母$area(B^P \cup G_{Rep}^P)$来最小化loss。而IoG的分母是常量（gt限位框），只能最小化分子：重叠部分$area(B^P \cap G_{Rep}^P)$。</p><p><strong>Smooth Parameter $\sigma$</strong>. 与[29]那样直接使用$\ln(IoU)$作为loss函数相比，我们在RepGT和RepBox中都引入了一个平滑ln函数$Smooth_{ln}$和一个平滑参数$\sigma$。由于预测的框比gt对象更多，所以RepBox异常值比RepGT更多，则RepBox Loss应对异常值更不敏感（更小的$\sigma$）。更多关于$\sigma$及额外的权重$\alpha, \beta$细节见5.2</p><h2 id="5-Experiment"><a href="#5-Experiment" class="headerlink" title="5. Experiment"></a>5. Experiment</h2><p>首先在5.1中给出了实现细节，5.2中在CityPerson分布评估分析了RepGT和RepBox，5.3中在CItyPerson和Caltech-USA上与SOTA的方法进行了比较。</p><p>详细翻译就不做了，参见原论文。</p><h3 id="5-1-Experiment-Settings"><a href="#5-1-Experiment-Settings" class="headerlink" title="5.1 Experiment Settings"></a>5.1 Experiment Settings</h3><p>训练采用了自研框架。在CityPerson和Caltech-USA分别训练了80k和160k个iter，初始lr为0.016，并分别在前60k和120k后除以10。SGD在4路GPU上优化，每个mini-batch每块GPU有1张图片。decay为0.0001，动量为0.9。为了与之前的方法比较，没有进行多尺度训练/测试。Caltech-USA使用了10x集（约42k帧）。使用了OHEM加速收敛。</p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607159380.png" alt="表1、2"><br><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607174788.png" alt="图2"></p><h3 id="5-2-Ablation-Study"><a href="#5-2-Ablation-Study" class="headerlink" title="5.2 Ablation Study"></a>5.2 Ablation Study</h3><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607479193.png" alt="表3"></p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607492648.png" alt="表4"></p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607519093.png" alt="图7"></p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607537451.png" alt="图8"></p><p><img src="/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/./1542607577468.png" alt="表5"></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] Z. Cai, Q. Fan, R. S. Feris, and N. Vasconcelos. A unifiedmulti-scale deep convolutional neural network for fast objectdetection. In European Conference on Computer Vision,pages 354–370. Springer, 2016. 1<br>[2] M. Cordts, M. Omran, S. Ramos, T. Rehfeld, M. Enzweiler,R. Benenson, U. Franke, S. Roth, and B. Schiele. Thecityscapes dataset for semantic urban scene understanding.In Proceedings of the IEEE Conference on Computer Visionand Pattern Recognition, pages 3213–3223, 2016. 3<br>[3] J. Dai, Y. Li, K. He, and J. Sun. R-fcn: Object detectionvia region-based fully convolutional networks. In Advancesin neural information processing systems, pages 379–387, 2016. 1, 2<br>[4] C. Desai, D. Ramanan, and C. C. Fowlkes. Discriminativemodels for multi-class object layout. International journalof computer vision, 95(1):1–12, 2011. 2<br>[5] P. Dollar, R. Appel, S. Belongie, and P. Perona. Fast feature ´pyramids for object detection. IEEE Transactions on PatternAnalysis and Machine Intelligence, 36(8):1532–1545, 2014.1, 2<br>[6] P. Dollar, Z. Tu, P. Perona, and S. Belongie. Integral channel ´features. 2009. 1, 2<br>[7] P. Dollar, C. Wojek, B. Schiele, and P. Perona. Pedestrian ´detection: A benchmark. In Computer Vision and PatternRecognition, 2009. CVPR 2009. IEEE Conference on, pages304–311. IEEE, 2009. 1, 2, 6<br>[8] M. Everingham, L. Van Gool, C. K. Williams, J. Winn, andA. Zisserman. The pascal visual object classes (voc) challenge.International journal of computer vision, 88(2):303–338, 2010. 2, 8<br>[9] R. Girshick. Fast r-cnn. In The IEEE International Conferenceon Computer Vision (ICCV), December 2015. 1, 2,5<br>[10] R. Girshick, J. Donahue, T. Darrell, and J. Malik. Rich featurehierarchies for accurate object detection and semanticsegmentation. In The IEEE Conference on Computer Visionand Pattern Recognition (CVPR), June 2014. 1, 2, 5<br>[11] K. He, G. Gkioxari, P. Dollar, and R. Girshick. Mask r-cnn. ´In The IEEE International Conference on Computer Vision(ICCV), 2017. 1, 2<br>[12] K. He, X. Zhang, S. Ren, and J. Sun. Deep residual learningfor image recognition. In Proceedings of the IEEE conferenceon computer vision and pattern recognition, pages770–778, 2016. 2, 3, 8<br>[13] J. Hosang, R. Benenson, and B. Schiele. Learning nonmaximumsuppression. In The IEEE Conference on ComputerVision and Pattern Recognition (CVPR), July 2017. 2<br>[14] J. Hosang, M. Omran, R. Benenson, and B. Schiele. Taking adeeper look at pedestrians. In Proceedings of the IEEE Conferenceon Computer Vision and Pattern Recognition, pages4073–4082, 2015. 1, 2<br>[15] L. Huang, Y. Yang, Y. Deng, and Y. Yu. Densebox: Unifyinglandmark localization with end to end object detection. arXivpreprint arXiv:1509.04874, 2015. 2<br>[16] A. Krizhevsky, I. Sutskever, and G. E. Hinton. Imagenetclassification with deep convolutional neural networks. InAdvances in neural information processing systems, pages1097–1105, 2012. 2<br>[17] J. Li, X. Liang, S. Shen, T. Xu, J. Feng, and S. Yan. Scaleawarefast r-cnn for pedestrian detection. IEEE Transactionson Multimedia, 2017. 2<br>[18] Y. Li, H. Qi, J. Dai, X. Ji, and Y. Wei. Fully convolutionalinstance-aware semantic segmentation. In IEEE Conf.on Computer Vision and Pattern Recognition (CVPR), pages2359–2367, 2017. 2<br>[19] T.-Y. Lin, P. Dollar, R. Girshick, K. He, B. Hariharan, and ´S. Belongie. Feature pyramid networks for object detection.In The IEEE Conference on Computer Vision and PatternRecognition (CVPR), 2017. 1, 2<br>[20] T.-Y. Lin, P. Goyal, R. Girshick, K. He, and P. Dollar. Focal ´loss for dense object detection. In The IEEE InternationalConference on Computer Vision (ICCV), 2017. 1<br>[21] J. Mao, T. Xiao, Y. Jiang, and Z. Cao. What can help pedestriandetection? In The IEEE Conference on Computer Visionand Pattern Recognition (CVPR), 2017. 1, 2, 3, 5, 7<br>[22] W. Nam, P. Dollar, and J. H. Han. Local decorrelation for ´improved detection. arXiv preprint arXiv:1406.1134, 2014.2<br>[23] W. Ouyang and X. Wang. A discriminative deep model forpedestrian detection with occlusion handling. In ComputerVision and Pattern Recognition (CVPR), 2012 IEEE Conferenceon, pages 3258–3265. IEEE, 2012. 2<br>[24] S. Ren, K. He, R. Girshick, and J. Sun. Faster r-cnn: Towardsreal-time object detection with region proposal networks. InC. Cortes, N. D. Lawrence, D. D. Lee, M. Sugiyama, andR. Garnett, editors, Advances in Neural Information ProcessingSystems 28, pages 91–99. Curran Associates, Inc., 2015.1, 2, 3, 8<br>[25] A. Shrivastava, A. Gupta, and R. Girshick. Training regionbasedobject detectors with online hard example mining. InProceedings of the IEEE Conference on Computer Visionand Pattern Recognition, pages 761–769, 2016. 6<br>[26] K. Simonyan and A. Zisserman. Very deep convolutionalnetworks for large-scale image recognition. arXiv preprintarXiv:1409.1556, 2014. 2<br>[27] Y. Tian, P. Luo, X. Wang, and X. Tang. Deep learning strongparts for pedestrian detection. In Proceedings of the IEEEinternational conference on computer vision, pages 1904–1912, 2015. 2<br>[28] B. Yang, J. Yan, Z. Lei, and S. Z. Li. Convolutional channelfeatures. In Proceedings of the IEEE international conferenceon computer vision, pages 82–90, 2015. 2<br>[29] J. Yu, Y. Jiang, Z. Wang, Z. Cao, and T. Huang. Unitbox:An advanced object detection network. In Proceedings ofthe 2016 ACM on Multimedia Conference, pages 516–520.ACM, 2016. 2, 5, 6<br>[30] L. Zhang, L. Lin, X. Liang, and K. He. Is faster r-cnn doingwell for pedestrian detection? In European Conference onComputer Vision, pages 443–457. Springer, 2016. 2<br>[31] S. Zhang, R. Benenson, M. Omran, J. Hosang, andB. Schiele. How far are we from solving pedestrian detection?In IEEE Conference on Computer Vision and PatternRecognition. IEEE Computer Society, 2016. 1, 3, 6, 7<br>[32] S. Zhang, R. Benenson, and B. Schiele. Filtered channelfeatures for pedestrian detection. In 2015 IEEE Conferenceon Computer Vision and Pattern Recognition (CVPR), pages1751–1760. IEEE, 2015. 2<br>[33] S. Zhang, R. Benenson, and B. Schiele. Citypersons: A diversedataset for pedestrian detection. In The IEEE Conferenceon Computer Vision and Pattern Recognition (CVPR), 2017. 1, 2, 3, 5, 6, 7, 8<br>[34] C. Zhou and J. Yuan. Multi-label learning of part detectorsfor heavily occluded pedestrian detection. In Proceedingsof the IEEE Conference on Computer Vision and PatternRecognition, pages 3486–3495, 2017. 2</p></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2019/03/25/CVPR2017-用额外特征提升行人检测-HyperLearner-What-can-help-pedestrain-detection/" rel="bookmark">CVPR2017 用额外特征提升行人检测 HyperLearner: What can help pedestrain detection</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2019/04/11/CVPR2019-行人检测-抛弃限位框-CSP-High-level-Semantic-Feature-Detection-A-New-Perspective-for-Pedestrian-Detection/" rel="bookmark">CVPR2019 行人检测 抛弃限位框 CSP: High-level Semantic Feature Detection: A New Perspective for Pedestrian Detection</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2019/04/11/CVPR2019-行人检测-利用分割和注意力机制提升性能-SSA-CNN-Semantic-Self-Attention-CNN-for-Pedestrian-Detection/" rel="bookmark">CVPR2019 行人检测 利用分割和注意力机制提升性能 SSA-CNN: Semantic Self-Attention CNN for Pedestrian Detection</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2018/10/25/生成二维高斯分布热力图/" rel="bookmark">生成二维高斯分布热力图</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2018/11/06/Pedestrian-Detection-State-of-art/" rel="bookmark">Pedestrian Detection: State of art</a></div></li></ul><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>慕湮</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/" title="人群检测、密集遮挡——Repulsion Loss: Detecting Pedestrians in a Crowd">http://muyaan.com/2018/11/19/人群检测、密集遮挡——Repulsion-Loss-Detecting-Pedestrians-in-a-Crowd/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Computer-Vision/" rel="tag"># Computer Vision</a> <a href="/tags/Deep-Learning/" rel="tag"># Deep Learning</a> <a href="/tags/Pedestrian-Detection/" rel="tag"># Pedestrian Detection</a> <a href="/tags/RepLoss/" rel="tag"># RepLoss</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2018/11/12/人体姿态估计-Realtime-Multi-Person-2D-Pose-Estimation-using-Part-Affinity-Fields/" rel="next" title="人体姿态估计:Realtime Multi-Person 2D Pose Estimation using Part Affinity Fields"><i class="fa fa-chevron-left"></i> 人体姿态估计:Realtime Multi-Person 2D Pose Estimation using Part Affinity Fields</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2018/11/20/DenseNet-Densely-Connected-Convolutional-Networks/" rel="prev" title="DenseNet: Densely Connected Convolutional Networks">DenseNet: Densely Connected Convolutional Networks <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="gitment-container"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="https://avatars0.githubusercontent.com/u/3022000?s=460&amp;v=4" alt="慕湮"><p class="site-author-name" itemprop="name">慕湮</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">75</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">138</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/tycallen" target="_blank" title="GitHub" rel="external nofollow noopener noreferrer"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:tyc.allen@gmail.com" target="_blank" title="E-Mail" rel="external nofollow noopener noreferrer"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="http://weibo.com/pojunallen" target="_blank" title="微博" rel="external nofollow noopener noreferrer"><i class="fa fa-fw fa-weibo"></i>微博</a> </span><span class="links-of-author-item"><a href="https://tuchong.com/1070837" target="_blank" title="图虫" rel="external nofollow noopener noreferrer"><i class="fa fa-fw fa-globe"></i>图虫</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 友情链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://dotrabbit.tk" title="dotrabbit" target="_blank" rel="external nofollow noopener noreferrer">dotrabbit</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Introduction"><span class="nav-text">1. Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Related-Work"><span class="nav-text">2. Related Work</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-What-is-the-Impact-of-Crowd-Occlusion"><span class="nav-text">3. What is the Impact of Crowd Occlusion?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Preliminaries"><span class="nav-text">3.1 Preliminaries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Analysis-on-Failure-Cases"><span class="nav-text">3.2 Analysis on Failure Cases</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Repulsion-Loss"><span class="nav-text">4. Repulsion Loss</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Discussion"><span class="nav-text">4.1 Discussion</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Experiment"><span class="nav-text">5. Experiment</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Experiment-Settings"><span class="nav-text">5.1 Experiment Settings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Ablation-Study"><span class="nav-text">5.2 Ablation Study</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-text">References</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">© 2015 – <span itemprop="copyrightYear">2020</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">慕湮</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span title="站点总字数">532k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">16:08</span></div><div class="powered-by">由 <a class="theme-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://hexo.io">Hexo</a> 强力驱动</div><span class="post-meta-divider">|</span><div class="theme-info">主题 – <a class="theme-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://theme-next.org">NexT.Muse</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="//cdn.staticfile.org/jquery/2.1.3/jquery.min.js"></script><script type="text/javascript" src="//cdn.staticfile.org/velocity/1.2.1/velocity.min.js"></script><script type="text/javascript" src="//cdn.staticfile.org/velocity/1.2.1/velocity.ui.min.js"></script><script type="text/javascript" src="//cdn.staticfile.org/fancybox/2.1.5/jquery.fancybox.min.js"></script><script src="https://www.wenjunjiang.win/js/gitment.js"></script><style>a.gitment-editor-footer-tip{display:none}.gitment-container.gitment-footer-container{display:none}</style><script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script async="" src="http://muyaan.com/js/src/async.js"></script><script type="text/javascript" src="/bundle.js"></script><script type="text/javascript">function renderGitment(){new Gitment({id:"1542608335000",owner:"tycallen",repo:"gitment-comments",oauth:{client_secret:"3fdf2db56aaab427df527a899947caf5b371f6d1",client_id:"9cc5e5635cdf602646a5"}}).render("gitment-container")}renderGitment();
function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function ({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text(counter.time + 1);
            
            Counter('put', `/classes/Counter/${counter.objectId}`, JSON.stringify({ time: { "__op":"Increment", "amount":1 } }))
            
            .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
            })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1}))
                .done(function () {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function () {
                  console.log('Failed to create');
                });
            
          }
        })
      .fail(function ({ responseJSON }) {
        console.log('LeanCloud Counter Error:' + responseJSON.code + " " + responseJSON.error);
      });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "UWGXBMGbguCDhSCbC3NrUQtL-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "UWGXBMGbguCDhSCbC3NrUQtL-gzGzoHsz",
                'X-LC-Key': "ke1jrA5b6VyR89Kqqqwf2kPP",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          addCount(Counter);
          
        })
    });;
!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}();
MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });;
MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });</script></body></html>